---
interface BarData {
  player: string;
  wins: number;
}
export interface Props {
  data: BarData[];
  id: string;
}
const { data, id } = Astro.props;
---

<bar-chart data-test="test" data-chartdata={JSON.stringify(data)}>
  <svg></svg>
</bar-chart>

<script>
  import d3 from "../utils/d3";
  class BarChart extends HTMLElement {
    constructor() {
      super();

      const svgEl = this.querySelector("svg");
      const data = JSON.parse(this.dataset.chartdata);
      console.log(
        "ðŸš€ ~ file: BarChart.astro:25 ~ BarChart ~ constructor ~ data",
        data
      );

      const svg = d3.select(svgEl);
      console.log("ðŸš€ ~ file: BarChart.astro:21 ~ svg", svg);
    }
  }
  customElements.define("bar-chart", BarChart);
</script>
